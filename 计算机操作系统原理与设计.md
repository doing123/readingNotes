```
年前看了《Windows操作系统原理》尤晋元版，一知半解。又找了几本相关的书籍，按照以后要读的顺序排：《计算机操作系统原理与设计》、《深入理解计算机系统》（卡内基梅隆大学的布莱恩特，以程序员的视角）、《计算机操作系统》（汤小丹等）
```

# 《计算机操作系统原理与设计》

### chapter 1
* 操作系统的主要特性：
    * 并发性：进程
    * 共享性：互斥共享（临界资源）、同时访问
    * 异步性
* 操作系统需要解决的主要问题
    * 提供解决资源冲突的策略和技术
    * 协调并发活动的关系
    * 保证系统的安全性
* 1.2 操作系统的发展和形成
    * 人工操作阶段：
        * 机器语言--汇编语言--高级程序设计语言
    * 管理程序阶段
        * 批处理--脱机批处理
    * 多道程序设计与操作系统的形成
        * 多重处理系统：多物理CPU
        * 多道程序设计：轮流占用CPU
        * 多道程序设计的实现：
            * 存储保护和程序浮动、处理器的管理和调度、系统资源的管理和调度
    * 操作系统的发展动力和进一步发展
* 1.3 操作系统的分类
    * 批处理操作系统
    * 分时
    * 实时
    * 网络
    * 分布式
    * 嵌入式
* 1.4 操作系统的功能
    * 处理器的管理
    * 存储管理
    * 设备管理
    * 文件管理
    * 网络和通信管理
    * 用户接口
* 1.5 操作系统提供的服务和用户接口
    * 基本服务：创建、执行程序，数据I/O，信息存取，通信服务，错误检测和处理，资源分配，统计，保护
    * 用户接口：系统调用、库函数、命令解释程序
* 1.6 流行操作系统简介
### chapter 2 处理器管理
* 2.1 中央处理器
    * 单处理器系统和多处理器系统
    * 寄存器：处理器包括一组寄存器
    * 机器指令
    * 特权指令
    * 处理器状态
    * 程序状态字寄存器
* 2.2 中断技术
    * 概念
    * 中断源的分类：强迫性和资源性；不可屏蔽中断和可屏蔽中断
    * 中断装置
    * 中断事件的处理
    * 中断的优先级和多重中断
    * 实例：Windows2000的中断处理
* 2.3 进程及其实现
    * 定义和性质
        * 进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。从操作系统管理的角度，进程由数据结构及在其上执行的程序组成，是程序在这个数据集合上的运行过程，也是操作系统进行资源分配和保护的基本单位。
        * 结构性、共享性（同一程序同时运行在不同数据集合上时，构成不同进程）、动态性、独立性、制约性、并发性
        * 依赖于处理器和主存储器资源
    * 状态和转换
        * 三态
        * 五态
        * 挂起：系统资源（内存）不足，把某些进程挂起，对换到磁盘镜像区中，暂不参与进程的调度
    * 描述
        * os的控制结构：进程控制表、存储、i/o、文件控制表
        * 进程镜像：当一个程序进入计算机的主存储器进行计算就构成了进程。
            * 进程上线文：用户级、系统级、寄存器上下文
            * 一个进程映像：进程控制块、进程数据块、系统/用户堆栈、进程控制块
        * 进程控制块：标识信息、现象信息、控制信息
        * 进程管理：进程队列（单向链接、双向链接）
    * 进程的控制
        * 创建：当OS为一个程序构造一个进程控制块并分配地址空间后，就创建了一个进程。
        * 进程上下文切换：核心态《===》用户态（模式切换）
* 2.4 线程及其实现
    * 引入多线程技术的动机
        * 进程在任一时刻只有一个执行控制流，我们将这种结构的进程称为单线程（结构）进程（single threaded process）
        * 进程作为系统资源分配和保护的独立单位，不需要频繁地切换
        * 线程作为系统调度和分派的基本单位，会频繁的调度的切换
    * 多线程环境中的进程与线程
        * 管理和执行相分离的进程模型
        * 线程：指进程中的一条独立执行路径（控制流），每个进程内允许包含多个并行执行的路径，即多线程。
        * 线程的状态：运行、就绪、阻塞
        * 线程管理和线程库：孵化、封锁、活化、结束、通信、同步、调度等
        * 并发多线程设计的有点：
            ```挂起：意味着将主存空间中的地址空间对换到盘上```
    * 线程的实现
        * 内核级线程（内核空间）
        * 用户级线程
        * 混合式线程
    * 实例: solaris的进程与线程
        ```
            轻量进程：实际上不是进程，只是一个内核支持的用户级线程（ULT）
        ```
    * 实例：window2000 的进程与线程
        ```
            进程、线程、作业
        一个进程只能属于一个作业
        ```
* 2.5 处理机调度
    * 高级调度：作业调度、长程调度
    * 中级调度：平衡负载调度、中程调度
    * 低级调度： 进程调度、短程调度
* 2.6 批处理作业的管理与调度
    * 作业和进程的关系
        ```
        作业是任务的实体，进程是完成任务的执行实体
        ```
    * 批处理作业的管理：作业、进程的调度
    * 批处理作业的调度
    * 作业调度的算法：
        ```
            先来先服务算法：FCFS
            最短作业优先算法：SJF（Shortest Job First）
            响应比最高者优先（HRW）算法：响应比=已等待时间/估计计算时间
            优先数法
            分类调度算法
            用磁带与不用磁带的作业搭配
        ```
* 2.7 进程调度
        * 进程调度的功能：
            ```
                负责动态地把处理器分配给进程或者内核级线程
                非抢占式和抢占式
                高低优先级队列，队列内采用非抢占式，但队列间采用抢占式
            ```
        * 进程调度算法
            ```
                先来先服务算法
                时间片轮转调度
                优先权调度
                多级反馈队列调度
                保证调度算法
                彩票调度算法
            ```
        * 实时调度
            ```
                实时系统分：硬实时系统、软实时系统
                响应事件：周期性事件、非周期性事件
                实时调度算法：
                    分动态实时算法和静态实时算法
                    单比率调度算法：最优
                    限期调度算法
                    最少裕度法
            ```
        * 多处理器调度
            ```
                松散耦合多处理器系统：cluster，独立处理器
                紧密耦合多处理器系统：一组处理器，共享外存、外设
            ```
            * 同步的粒度（频率）：
                ```
                    细粒度：同步周期 < 20条指令
                    中粒度： 20-200
                    粗粒度：200-2000
                    超粗粒度： > 2000
                    独立：线程、进程间不存在同步
                ```
            * 多处理器调度的设计要点：
                ```
                    进程如何分配给处理器：动态、静态分配策略
                    是否在单个处理器上支持多道程序设计
                    如何指派进程
                ```
            * 多处理器调度算法
                ```
                    主要研究对象时线程调度算法：
                        负载共享调度算法
                        群调度算法
                        处理器专派调度算法
                        动态调度算法：操作系统和应用进程共同完成调度
                ```
            * 实例研究：传统Unix调度算法
                ```
                    采用多级反馈队列，对每一个优先级队列采用时间片调度策略
                ```
            * 实例研究：Unix SVR4：优先级、优先数
            * 实例研究：windowNT
                ```
                    优先级层次：实时优先级层次：31-16
                    可变优先级层次：15-0
                ```

    
        

### chapter 3 并发进程
* todo 3.1 并发进程
